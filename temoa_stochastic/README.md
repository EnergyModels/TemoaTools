Instructions to install temoa_stochastic and run the puerto_rico_stoch project
 -

1) Creating python environment for temoa_stochastic
    0) Prerequisites: python 2.7 using Anaconda2
        - https://www.anaconda.com/distribution/#download-section
    2) Download temoatools
        - https://www.github.com/EnergyModels/temoatools
    2) Create temoa-stoch-py2 environment within anaconda 2
        - start anaconda
        - move to temoa_stochastic directory
        - create and activate environment using environment.yml
    3) Install modified version of Pyomo (Details of modifications are in pyomo_instructions.txt)
        - move to pyomo directory
        - install pyomo
    3) Install temoatools
        - move to temoatools directory
        - install temoatools

    Sample commands for UVA's Rivanna supercomputer which already has Python 2.7 and anaconda installed. Note the anaconda module is regularly updated. Check https://www.anaconda.com/distribution/#download-section for the current python 2.7 anaconda module if this example does not work
    
    >
        git clone https://www.github.com/EnergyModels/temoatools
        module load anaconda/2019.10-py2.7
        cd temoatools/temoa_stochastic
        conda env create
        source activate temoa-stoch-py2
        cd pyomo
        pip install .
        cd ../..
        pip install .

2) Running puerto_rico_stoch project
    1) start terminal and move to temoatools/projects/puerto_rico_stoch directory
    2) Option 1: Using shell scripts (recommended):
        - Run pre_processing.sh
        - Run run_all_simulations.sh (generated by pre_processing)
        - Run post_processing.sh
        Sample commands for UVA's Rivanna supercomputer:
    
    >
        cd temoatools/projects/puerto_rico_stoch
        sbatch run_pre_processing.sh
        sbatch run_all_simulations.sh
        sbatch run_post_processing.sh
        
    3) Option 2: Running files individually
        1) start terminal and load anaconda2
        2) load temoa-stoch-py2 environment
        3) move to temoatools/projects/puerto_rico_stoch directory
        4) Pre-processing
            1) run stochastics_baselines.py
            2) run stochastics_write_input_files.py
        5) Perform temoa simulations
            run stochastics_baselines.py
        6) Perform post_processing
            4) run stochastics_baselines.py
            4) run stochastics_baselines.py
    
    Sample commands for UVA's Rivanna supercomputer:
    
    >
        module load anaconda/2019.10-py2.7
        source activate temoa-stoch-py2
        cd temoatools/temoa_stochastic
        python stochastics_baselines.py
        python stochastics_write_input_files.py
    
    
    
- Other helpful commands
    1) To remove an environment
        > conda remove --name myenv --all
    
  